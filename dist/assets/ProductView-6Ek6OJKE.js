import{c as m}from"./cartStore-DGG_fZuK.js";import{_ as w,a as b,m as P,c as d,d as u,b as t,t as c,w as v,F as p,v as g,y as I,z as C,e as n,r as f,o as r}from"./index-CoW_epj6.js";import{b as T}from"./bookmarkStore-D8GQWX2P.js";import{V}from"./VueLoading-61m2rGh4.js";import"./index-Bzn_gtXS.js";var A={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"david555",BASE_URL:"/vue3-OptionAPi-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:y,VITE_APP_PATH:k}=A,B={components:{VueLoading:V},data(){return{product:{},products:[],randomProducts:[],productImages:[],productImg:"",productId:"",productQty:1,isLoading:!1}},methods:{...b(m,["addToCart","updateQty"]),...b(T,["getBookmark","addBookmark"]),getNewProductId(i){this.productId=i,this.getProduct()},getProducts(){const i=`${y}/api/${k}/products`;this.$http.get(i).then(s=>{s.data.success&&(this.products=s.data.products)}).catch(s=>{s.response.data.message&&this.$swal("錯誤","你所查看的API不存在","error")})},getProduct(){this.isLoading=!0;const i=`${y}/api/${k}/product/${this.productId}`;this.$http.get(i).then(s=>{s.data.success&&(setTimeout(()=>{this.isLoading=!1},1e3),this.product=s.data.product,this.productImg=s.data.product.imageUrl,this.productImages=s.data.product.imagesUrl)}).catch(s=>{s.response.data.message&&this.$swal("錯誤","你所查看的API不存在","error")})},getRandomProducts(){const i=this.products.slice(0),s=[];let l;for(let a=0;a<3;a++)l=Math.floor(Math.random()*i.length),s.push(i[l]),i.splice(l,1);this.randomProducts=s}},watch:{products:{handler(){this.getRandomProducts()},deep:!0}},computed:{...P(m,["carts"])},mounted(){this.productId=this.$route.params.id,this.getProduct(),this.getProducts(),this.getBookmark()}},L={class:"layoutBanner mb-md-5 mb-3"},E={class:"container"},j={class:"row justify-content-center my-auto"},Q={class:"col-md-4 text-center layout-Banner-Text"},R={class:"fw-bold mb-3 text-light h1"},S={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},U={class:"breadcrumb d-flex justify-content-center"},D={class:"breadcrumb-item"},H=t("a",{href:"#",class:"aboutHover"},"首頁",-1),M={class:"breadcrumb-item text-light","aria-current":"page"},N=t("a",{href:"#",class:"aboutHover"},"產品列表",-1),O={class:"breadcrumb-item text-light","aria-current":"page"},$={class:"container"},z={class:"row justify-content-center mt-5"},F={class:"col-md-10"},q={class:"row"},G={class:"col-md-7"},J=["src"],K={class:"my-3 row"},W=["src","onClick"],X={class:"col-md-5 mt-3"},Y={class:"fw-bold h1 mb-3"},Z={class:"mb-3"},tt={class:"mb-0 text-muted text-end"},st={class:"h4 fw-bold text-end text-primary"},ot={class:"row align-items-center mb-6"},et={class:"col-5"},it={class:"input-group my-3 bg-light border"},ct={class:"input-group-prepend"},nt=t("i",{class:"bi bi-dash"},null,-1),dt=[nt],rt={class:"input-group-append"},lt=t("i",{class:"bi bi-plus"},null,-1),at=[lt],ut={class:"col-5 custom-btn-primary"},pt={class:"col-2"},_t={class:"custom-btn-info"},ht=t("i",{class:"bi bi-heart"},null,-1),mt=[ht],bt=t("div",{class:"border-primary border rounded p-3"},[t("p",null,"商品配送工作時間："),t("p",null," ※ 本商店皆以宅配方式寄出商品，於每次出貨時，寄發出貨通知信，還請多加留意。 "),t("p",null," ※ 商品配送時間一律為3-7個工作天送達商品。配送時間以每筆訂單完成付款時間開始算起， "),t("p",null," 因商品數量有限，需要時間做調度作業，敬請見諒。 ※ 若有特別需求，請於下訂單時備註說明，以利出貨作業。 ")],-1),vt={class:"row my-5"},gt={class:"col-md-4"},ft=t("h2",{class:"mb-3"},"商品規格",-1),yt={class:"px-0"},kt=t("hr",null,null,-1),xt=t("h2",{class:"text-center mb-3 mt-5"},"相關產品",-1),wt={class:"row mb-6"},Pt={class:"card border p-2 mb-4 position-relative"},It=["src"],Ct={class:"card-body p-0"},Tt={class:"text-dark"},Vt={class:"card-text text-muted mb-2 text-truncate"},At={class:"d-flex justify-content-between align-items-center"},Bt={class:"text-primary fw-bold me-2"},Lt={class:"mb-0 text-muted text-end d-inline-block"},Et={class:"custom-btn-primary"},jt=["onClick"],Qt=t("i",{class:"bi bi-handbag"},null,-1),Rt=[Qt],St={href:"#",class:"p-2 bookmark-icon"},Ut=["onClick"];function Dt(i,s,l,a,o,Ht){const x=f("VueLoading"),_=f("router-link");return r(),d(p,null,[u(x,{active:o.isLoading},null,8,["active"]),t("div",null,[t("div",L,[t("div",E,[t("div",j,[t("div",Q,[t("h2",R,c(o.product.title),1),t("nav",S,[t("ol",U,[t("li",D,[u(_,{to:"/"},{default:v(()=>[H]),_:1})]),t("li",M,[u(_,{to:"/products"},{default:v(()=>[N]),_:1})]),t("li",O,c(o.product.title),1)])])])])])])]),t("div",$,[t("div",z,[t("div",F,[t("div",q,[t("div",G,[t("img",{class:"img-fluid rounded object-fit-cover",style:{height:"350px",width:"100%"},src:o.productImg},null,8,J),t("div",K,[(r(!0),d(p,null,g(o.productImages,e=>(r(),d("img",{key:e,class:"img-fluid object-fit-cover imgSize col-3",style:{height:"80px",cursor:"pointer"},src:e,onClick:n(h=>o.productImg=e,["prevent"])},null,8,W))),128))])]),t("div",X,[t("h2",Y,c(o.product.title),1),t("p",Z,c(o.product.description),1),t("p",tt,[t("del",null,"NT$ "+c(o.product.origin_price),1)]),t("p",st," NT$ "+c(o.product.price),1),t("div",ot,[t("div",et,[t("div",it,[t("div",ct,[t("button",{class:"btn btn-light border-end rounded-0 py-2",type:"button",id:"button-addon1",onClick:s[0]||(s[0]=e=>o.productQty>1?o.productQty--:1)},dt)]),I(t("input",{type:"number",class:"form-control border-0 text-center my-auto bg-light","aria-label":"Example text with button addon","aria-describedby":"button-addon1",min:"1","onUpdate:modelValue":s[1]||(s[1]=e=>o.productQty=e),readonly:""},null,512),[[C,o.productQty]]),t("div",rt,[t("button",{class:"btn btn-light rounded-0 border-start py-2",type:"button",id:"button-addon2",onClick:s[2]||(s[2]=e=>o.productQty++)},at)])])]),t("div",ut,[t("a",{href:"#",class:"text-nowrap btn w-100 py-2",onClick:s[3]||(s[3]=n(e=>i.addToCart(o.product,o.productQty),["prevent"]))},"加入購物車")]),t("div",pt,[t("div",_t,[t("a",{href:"#",class:"btn w-100 py-2",onClick:s[4]||(s[4]=n(e=>i.addBookmark(o.product),["prevent"]))},mt)])])])])]),bt,t("div",vt,[t("div",gt,[ft,t("ul",yt,[t("li",null,[t("p",null,"款式："+c(o.product.title),1)]),t("li",null,[t("p",null,"分類: "+c(o.product.category),1)]),t("li",null,[t("p",null,"內容: "+c(o.product.content),1)])])])]),kt,t("div",null,[xt,t("div",wt,[(r(!0),d(p,null,g(o.randomProducts,e=>(r(),d("div",{class:"col-lg-4 col-md-6",key:e.id},[t("div",Pt,[t("a",{href:"#",onClick:s[5]||(s[5]=n(()=>{},["prevent"]))},[t("img",{height:"200",src:e.imageUrl,class:"card-img-top rounded mb-3 object-fit-cover cardHover"},null,8,It),t("div",Ct,[t("h4",Tt,c(e.title),1),t("p",Vt,c(e.description),1),t("div",At,[t("div",null,[t("span",Bt,"$ "+c(e.origin_price),1),t("p",Lt,[t("del",null,"$"+c(e.origin_price),1)])]),t("div",Et,[t("a",{href:"#",class:"btn",onClick:n(h=>i.addToCart(e),["prevent"])},Rt,8,jt)])])])]),t("div",null,[t("a",St,[t("i",{class:"bi bi-heart-fill",onClick:n(h=>i.addBookmark(e),["prevent"])},null,8,Ut)])])])]))),128))])])])])])],64)}const Ft=w(B,[["render",Dt]]);export{Ft as default};
