import{c as _}from"./cartStore-Bp0LImvg.js";import{_ as x,a as m,m as k,c as d,b as t,d as w,t as r,F as p,v as b,g as c,y as P,z as I,e as n,o as l,r as C}from"./index-DrL7xUhK.js";import{b as T}from"./bookmarkStore-BgG0JuZf.js";import{B}from"./BannerSection-DB9sHSmb.js";import"./index-Bnm8mFos.js";var S={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"david555",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:v,VITE_APP_PATH:g}=S,A={components:{BannerSection:B},data(){return{product:{},products:[],randomProducts:[],productImages:[],productImg:"",productId:"",productQty:1}},methods:{...m(_,["addToCart","updateQty"]),...m(T,["getBookmark","addBookmark"]),getNewProductId(i){this.productId=i,this.getProduct()},getProducts(){const i=`${v}/api/${g}/products`;this.$http.get(i).then(s=>{s.data.success&&(this.products=s.data.products)}).catch(s=>{s.response.data.message&&this.$swal("錯誤","你所查看的API不存在","error")})},getProduct(){const i=`${v}/api/${g}/product/${this.productId}`;this.$http.get(i).then(s=>{s.data.success&&(this.product=s.data.product,this.productImg=s.data.product.imageUrl,this.productImages=s.data.product.imagesUrl)}).catch(s=>{s.response.data.message&&this.$swal("錯誤","你所查看的API不存在","error")})},getRandomProducts(){let i=this.products.slice(0),s=[],a;for(let u=0;u<3;u++)a=Math.floor(Math.random()*i.length),s.push(i[a]),i.splice(a,1);this.randomProducts=s}},watch:{products:{handler(){this.getRandomProducts()},deep:!0}},computed:{...k(_,["carts"])},mounted(){this.productId=this.$route.params.id,this.getProduct(),this.getProducts(),this.getBookmark()}},V={class:"position-relative py-8 mb-6"},E={class:"container d-flex flex-column"},$={class:"row justify-content-center my-auto"},Q={class:"col-md-4 text-center"},R={class:"fw-bold mb-3 text-light h1"},j={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},N={class:"breadcrumb d-flex justify-content-center"},U=t("li",{class:"breadcrumb-item"},[t("a",{href:"#",class:"aboutHover"},"首頁")],-1),D=t("li",{class:"breadcrumb-item text-light","aria-current":"page"},[t("a",{href:"#",class:"aboutHover"},"產品列表")],-1),H={class:"breadcrumb-item text-light","aria-current":"page"},M={class:"container mt-7"},L={class:"row justify-content-center mt-6"},z={class:"col-md-10"},F={class:"row"},O={class:"col-md-7"},q=["src"],G={class:"my-3 row"},J=["src","onClick"],K={class:"col-md-5 mt-3"},W={class:"fw-bold h1 mb-3"},X={class:"mb-3"},Y={class:"mb-0 text-muted text-end"},Z={class:"h4 fw-bold text-end text-primary"},tt={class:"row align-items-center mb-6"},st={class:"col-5"},ot={class:"input-group my-3 bg-light border"},et={class:"input-group-prepend"},it=t("i",{class:"bi bi-dash"},null,-1),rt=[it],ct={class:"input-group-append"},dt=t("i",{class:"bi bi-plus"},null,-1),nt=[dt],lt={class:"col-5"},at={class:"col-2"},ut=t("i",{class:"bi bi-heart"},null,-1),pt=[ut],ht=t("div",{class:"border-primary border rounded p-3"},[t("p",null,[n(" 商品配送工作時間："),t("br"),n(" ※ 本商店皆以宅配方式寄出商品，於每次出貨時，寄發出貨通知信，還請多加留意。"),t("br"),n(" ※ 商品配送時間一律為3-7個工作天送達商品。配送時間以每筆訂單完成付款時間開始算起，"),t("br"),n(" 因商品數量有限，需要時間做調度作業，敬請見諒。"),t("br"),n(" ※ 若有特別需求，請於下訂單時備註說明，以利出貨作業。 ")])],-1),_t={class:"row my-5"},mt={class:"col-md-4"},bt=t("h2",{class:"mb-3"},"商品規格",-1),vt={class:"px-0"},gt=t("hr",null,null,-1),ft=t("h2",{class:"text-center mb-3 mt-5"},"相關產品",-1),yt={class:"row mb-6"},xt={class:"card border p-2 mb-4 position-relative"},kt=["src","onClick"],wt=t("a",{href:"#",class:"p-2 bookmark-icon"},[t("i",{class:"bi bi-heart-fill"})],-1),Pt={class:"card-body p-0"},It={class:"card-text text-muted mb-2 text-truncate"},Ct={class:"d-flex justify-content-between align-items-center"},Tt={class:"text-primary fw-bold me-2"},Bt={class:"mb-0 text-muted text-end d-inline-block"},St=["onClick"],At=t("i",{class:"bi bi-handbag"},null,-1),Vt=[At];function Et(i,s,a,u,e,f){const y=C("BannerSection");return l(),d(p,null,[t("div",V,[w(y),t("div",E,[t("div",$,[t("div",Q,[t("h2",R,r(e.product.title),1),t("nav",j,[t("ol",N,[U,D,t("li",H,r(e.product.title),1)])])])])])]),t("div",M,[t("div",L,[t("div",z,[t("div",F,[t("div",O,[t("img",{class:"img-fluid rounded object-fit-cover",style:{height:"350px",width:"100%"},src:e.productImg},null,8,q),t("div",G,[(l(!0),d(p,null,b(e.productImages,o=>(l(),d("img",{key:o,class:"img-fluid object-fit-cover imgSize col-3",style:{height:"80px",cursor:"pointer"},src:o,onClick:c(h=>e.productImg=o,["prevent"])},null,8,J))),128))])]),t("div",K,[t("h2",W,r(e.product.title),1),t("p",X,r(e.product.description),1),t("p",Y,[t("del",null,"NT$ "+r(e.product.origin_price),1)]),t("p",Z,"NT$ "+r(e.product.price),1),t("div",tt,[t("div",st,[t("div",ot,[t("div",et,[t("button",{class:"btn btn-light border-end rounded-0 py-2",type:"button",id:"button-addon1",onClick:s[0]||(s[0]=c(o=>this.productQty>1?this.productQty--:1,["prevent"]))},rt)]),P(t("input",{type:"number",class:"form-control border-0 text-center my-auto shadow-none bg-light","aria-label":"Example text with button addon","aria-describedby":"button-addon1",min:"1","onUpdate:modelValue":s[1]||(s[1]=o=>this.productQty=o)},null,512),[[I,this.productQty]]),t("div",ct,[t("button",{class:"btn btn-light rounded-0 border-start py-2",type:"button",id:"button-addon2",onClick:s[2]||(s[2]=c(o=>this.productQty++,["prevent"]))},nt)])])]),t("div",lt,[t("a",{href:"#",class:"text-nowrap btn w-100 py-2 btn-primary",onClick:s[3]||(s[3]=c(o=>i.addToCart(e.product,this.productQty),["prevent"]))},"加入購物車")]),t("div",at,[t("a",{href:"#",class:"btn w-100 py-2 btn-info",onClick:s[4]||(s[4]=c(o=>i.addBookmark(e.product),["prevent"]))},pt)])])])]),ht,t("div",_t,[t("div",mt,[bt,t("ul",vt,[t("li",null,[t("p",null,"款式："+r(e.product.title),1)]),t("li",null,[t("p",null,"分類: "+r(e.product.category),1)]),t("li",null,[t("p",null,"內容: "+r(e.product.content),1)])])])]),gt,t("div",null,[ft,t("div",yt,[(l(!0),d(p,null,b(e.randomProducts,o=>(l(),d("div",{class:"col-lg-4 col-md-6",key:o.id},[t("div",xt,[t("a",{href:"#",onClick:s[5]||(s[5]=c(()=>{},["prevent"]))},[t("img",{height:"200",src:o.imageUrl,class:"card-img-top rounded mb-3 object-fit-cover cardHover",onClick:h=>f.getNewProductId(o.id)},null,8,kt)]),wt,t("div",Pt,[t("h4",null,r(o.title),1),t("p",It,r(o.description),1),t("div",Ct,[t("div",null,[t("span",Tt,"$ "+r(o.origin_price),1),t("p",Bt,[t("del",null,"$"+r(o.origin_price),1)])]),t("button",{type:"type",class:"btn btn-primary",onClick:c(h=>i.addToCart(o),["prevent"])},Vt,8,St)])])])]))),128))])])])])])],64)}const Ut=x(A,[["render",Et]]);export{Ut as default};
